<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="2bb05a6c-4740-428f-b69d-453d33a21ed5" activeEnvironment="Default" name="functional-test-ticket-reserve" resourceRoot="" soapui-version="5.2.1" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:testSuite id="fa0fd3f1-776d-4584-814e-fe9877b584f2" name="Book-Ticket"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="8d863724-e596-426e-a74c-d44fb6637275" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="list-tickets" searchProperties="true"><con:settings/><con:testStep type="httprequest" name="Get Number of tickets Available-level-0" id="0a8dd611-5d6f-4a16-82d2-2ab2c362db94"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>1250</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Get Number of tickets Available-level-1" id="667dea7a-0510-45ec-a4b2-ace63a362fd7"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>2000</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Get Number of tickets Available-level-2" id="595d9ad0-cdf1-4998-8467-2f4cee1777be"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>1500</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>3</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Get Number of tickets Available-level-3" id="bc29fb48-7d49-4a2d-8e29-de949bafcb24"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-3" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>1500</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>3</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="d9b9b47b-2d1a-4da8-ac5d-11cc600226e5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="hold-and-release-ticket" searchProperties="true"><con:settings/><con:testStep type="httprequest" name="Get Number of tickets Available-level-0" id="304ee0f3-435e-4b45-883c-2b5857e03b2c"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>1250</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Hold Tickets for Level 0" id="d1145a8e-eb28-4e56-a4c7-5a24275dc19a"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="3136d209-da51-4766-a5ee-1651f8a2e011" name="Hold Tickets for Level 0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/hold</con:endpoint><con:request/><con:assertion type="Simple Contains" id="15d17959-78bf-4d72-bed0-bd1444cb496b" name="Contains"><con:configuration><token>SeatHold</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="fda5d32f-b252-4598-854f-911dbe5decc6" name="Script Assertion"><con:configuration><scriptText>def headers = messageExchange.responseHeaders
ArrayList headerList = headers.get("HOLD-ID")
def holdId = headerList.get(0);
log.info(holdId)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "HOLD-ID", holdId )</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>email</con:name><con:value>me@abc.com</con:value><con:style>QUERY</con:style><con:default>me@abc.com</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>num</con:name><con:value>10</con:value><con:style>QUERY</con:style><con:default>10</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>min</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="delay" name="Wait for hold to expire" id="21389ccd-7c80-40d2-8c7e-dadcf69390ec"><con:settings/><con:config><delay>10000</delay></con:config></con:testStep><con:testStep type="httprequest" name="Book Tickets using Hold Id (fails)" id="3b8b1534-74f8-46a7-bd79-99f997e15553"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="55588131-43a9-4f98-b775-65c4aa881f47" name="Book Tickets using Hold Id (fails)" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/reserve</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" id="a62693d0-3e8d-4636-8b28-66a61aabb239" name="Valid HTTP Status Codes"><con:configuration><codes>204</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>holdId</con:name><con:value>${HOLD-ID}</con:value><con:style>QUERY</con:style><con:default>${HOLD-ID}</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>email</con:name><con:value>me@abc.com</con:value><con:style>QUERY</con:style><con:default>me@abc.com</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Get Number of tickets Available-level-0-post" id="a69f4b45-5e80-4f54-923d-9cc14d30daa5"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-0-post" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>1250</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="92889fd2-e3aa-4b05-8810-750ed4862122" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="hold-and-reserve-ticket" searchProperties="true"><con:settings/><con:testStep type="httprequest" name="Hold Tickets for Level 0" id="a73211cd-09e7-4596-bf80-ac3aa87c9849"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="3136d209-da51-4766-a5ee-1651f8a2e011" name="Hold Tickets for Level 0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/hold</con:endpoint><con:request/><con:assertion type="Simple Contains" id="15d17959-78bf-4d72-bed0-bd1444cb496b" name="Contains"><con:configuration><token>SeatHold</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="fda5d32f-b252-4598-854f-911dbe5decc6" name="Script Assertion"><con:configuration><scriptText>def headers = messageExchange.responseHeaders
ArrayList headerList = headers.get("HOLD-ID")
def holdId = headerList.get(0);
log.info(holdId)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "HOLD-ID", holdId )</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>email</con:name><con:value>me@abc.com</con:value><con:style>QUERY</con:style><con:default>me@abc.com</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>num</con:name><con:value>10</con:value><con:style>QUERY</con:style><con:default>10</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>min</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Get Number of tickets Available-level-0" id="32d15ade-fe74-4d82-be78-e43f2dd74c36"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>1240</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Book Tickets using Hold Id" id="11f2b38b-6c71-4a2c-9179-786b8b977641"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="55588131-43a9-4f98-b775-65c4aa881f47" name="Book Tickets using Hold Id" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/reserve</con:endpoint><con:request/><con:assertion type="Simple Contains" id="2f8f7734-c423-433b-b50d-450c3f9c21e1" name="Contains"><con:configuration><token>Your tickets have been successfully booked</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="a62693d0-3e8d-4636-8b28-66a61aabb239" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>holdId</con:name><con:value>${HOLD-ID}</con:value><con:style>QUERY</con:style><con:default>${HOLD-ID}</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>email</con:name><con:value>me@abc.com</con:value><con:style>QUERY</con:style><con:default>me@abc.com</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Hold Tickets for Level 1" id="bea3dc2a-e166-4bec-8ce1-f5088802cdde"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="3136d209-da51-4766-a5ee-1651f8a2e011" name="Hold Tickets for Level 1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/hold</con:endpoint><con:request/><con:assertion type="Simple Contains" id="15d17959-78bf-4d72-bed0-bd1444cb496b" name="Contains"><con:configuration><token>SeatHold</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="fda5d32f-b252-4598-854f-911dbe5decc6" name="Script Assertion"><con:configuration><scriptText>def headers = messageExchange.responseHeaders
ArrayList headerList = headers.get("HOLD-ID")
def holdId = headerList.get(0);
log.info(holdId)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "HOLD-ID", holdId )</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>email</con:name><con:value>me@abc.com</con:value><con:style>QUERY</con:style><con:default>me@abc.com</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>num</con:name><con:value>10</con:value><con:style>QUERY</con:style><con:default>10</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>min</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Get Number of tickets Available-level-1" id="06d95203-6ec0-4955-9422-bcd9b2532ffe"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>1990</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Book Tickets using Hold Id -level1" id="24cc9bcd-41a4-409c-ac1d-59bd292576cc"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="55588131-43a9-4f98-b775-65c4aa881f47" name="Book Tickets using Hold Id -level1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/reserve</con:endpoint><con:request/><con:assertion type="Simple Contains" id="2f8f7734-c423-433b-b50d-450c3f9c21e1" name="Contains"><con:configuration><token>Your tickets have been successfully booked</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="a62693d0-3e8d-4636-8b28-66a61aabb239" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>holdId</con:name><con:value>${HOLD-ID}</con:value><con:style>QUERY</con:style><con:default>${HOLD-ID}</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>email</con:name><con:value>me@abc.com</con:value><con:style>QUERY</con:style><con:default>me@abc.com</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Hold Tickets for Level 2" id="5138b65c-058e-4241-9cf0-2113ff748999"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="3136d209-da51-4766-a5ee-1651f8a2e011" name="Hold Tickets for Level 2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/hold</con:endpoint><con:request/><con:assertion type="Simple Contains" id="15d17959-78bf-4d72-bed0-bd1444cb496b" name="Contains"><con:configuration><token>SeatHold</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="fda5d32f-b252-4598-854f-911dbe5decc6" name="Script Assertion"><con:configuration><scriptText>def headers = messageExchange.responseHeaders
ArrayList headerList = headers.get("HOLD-ID")
def holdId = headerList.get(0);
log.info(holdId)
com.eviware.soapui.SoapUI.globalProperties.setPropertyValue( "HOLD-ID", holdId )</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>email</con:name><con:value>me@abc.com</con:value><con:style>QUERY</con:style><con:default>me@abc.com</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>num</con:name><con:value>10</con:value><con:style>QUERY</con:style><con:default>10</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>min</con:name><con:value>2</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Get Number of tickets Available-level-2" id="6441f26a-d4e9-42df-a5b9-6945dca2554c"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="4572044c-0d5f-4e88-8f36-7afab7eea667" name="Get Number of tickets Available-level-2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/list</con:endpoint><con:request/><con:assertion type="Simple Contains" id="83c61efe-1c46-4d95-aecb-eb2d73712dd9" name="Contains"><con:configuration><token>1490</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>seatingLevel</con:name><con:value>2</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="Book Tickets using Hold Id -level2" id="61ea99e0-32ab-4de0-98c1-88563af63ecd"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" id="55588131-43a9-4f98-b775-65c4aa881f47" name="Book Tickets using Hold Id -level2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8080/reserve</con:endpoint><con:request/><con:assertion type="Simple Contains" id="2f8f7734-c423-433b-b50d-450c3f9c21e1" name="Contains"><con:configuration><token>Your tickets have been successfully booked</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="a62693d0-3e8d-4636-8b28-66a61aabb239" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>holdId</con:name><con:value>${HOLD-ID}</con:value><con:style>QUERY</con:style><con:default>${HOLD-ID}</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>email</con:name><con:value>me@abc.com</con:value><con:style>QUERY</con:style><con:default>me@abc.com</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>